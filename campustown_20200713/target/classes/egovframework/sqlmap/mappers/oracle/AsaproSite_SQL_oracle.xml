<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="egovframework.com.asapro.site.service.SiteMapper">
	
	<resultMap type="Site" id="sitePlainResultMap">
		<id property="siteId" column="SITE_ID" javaType="String" />
		<result property="siteName" column="SITE_NAME" javaType="String" />
		<result property="siteDescription" column="SITE_DESCRIPTION" javaType="String" />
		<result property="siteDomain" column="SITE_DOMAIN" javaType="String" />
		<result property="siteType" column="SITE_TYPE" javaType="String" />
		<result property="siteTheme" column="SITE_THEME" javaType="String" />
		<result property="siteMain" column="SITE_MAIN" javaType="Boolean" />
		<result property="siteLocale" column="SITE_LOCALE" javaType="String" />
		<result property="siteRegDate" column="SITE_REGDATE" javaType="Date" />
		<association property="siteLogo" column="SITE_LOGO" javaType="FileInfo" resultMap="egovframework.com.asapro.fileinfo.service.FileInfoMapper.fileInfoPlainResultMap" />
	</resultMap>
	
	<sql id="sitePlainColumns">
		SITE_ID
		, SITE_NAME
		, SITE_DESCRIPTION
		, SITE_DOMAIN
		, SITE_TYPE
		, SITE_THEME
		, SITE_MAIN
		, SITE_LOCALE
		, SITE_LOGO
		, SITE_REGDATE
	</sql>
	
	<sql id="siteJoinColumns">
		SI.SITE_ID
		, SI.SITE_NAME
		, SI.SITE_DESCRIPTION
		, SI.SITE_DOMAIN
		, SI.SITE_TYPE
		, SI.SITE_THEME
		, SI.SITE_MAIN
		, SI.SITE_LOCALE
		, SI.SITE_LOGO
		, SI.SITE_REGDATE
	</sql>
	
	<select id="selectSiteList" parameterType="SiteSearch" resultMap="sitePlainResultMap" >
		SELECT
			<include refid="siteJoinColumns"/> 
			, <include refid="egovframework.com.asapro.fileinfo.service.FileInfoMapper.fileInfoJoinColumns" />
		FROM ASA_SITE SI
		LEFT OUTER JOIN ASA_FILEINFO FI ON SI.SITE_LOGO = FI.FILE_ID
		<where>
			<if test="sv != null and sv != ''">
				<if test="sc == null or sc == ''">
					AND (
						SITE_ID LIKE '%'||#{sv}||'%'
						OR SITE_NAME LIKE '%'||#{sv}||'%'
					)
				</if>
				<if test="sc != null and sc != ''">
					AND ${sc} LIKE '%'||#{sv}||'%'
				</if>
			</if>
		</where>
		<if test="sortOrder != null and sortOrder != '' and sortDirection != null and sortDirection != ''">
			ORDER BY ${sortOrder} ${sortDirection}
		</if>
		<if test="sortOrder == null or sortOrder == '' or sortDirection == null or sortDirection == ''">
			ORDER BY SITE_MAIN DESC, SITE_ID ASC
		</if>
	</select>
	
	<select id="selectSiteListTotal" parameterType="SiteSearch" resultType="Integer">
		SELECT
			COUNT(*) 
		FROM ASA_SITE
		<where>
			<if test="sv != null and sv != ''">
				<if test="sc == null or sc == ''">
					AND (
						SITE_ID LIKE '%'||#{sv}||'%'
						OR SITE_NAME LIKE '%'||#{sv}||'%'
					)
				</if>
				<if test="sc != null and sc != ''">
					AND ${sc} LIKE '%'||#{sv}||'%'
				</if>
			</if>
		</where>
	</select>
	
	<select id="selectSite" parameterType="Site" resultMap="sitePlainResultMap">
		SELECT
			<include refid="siteJoinColumns"/> 
			, <include refid="egovframework.com.asapro.fileinfo.service.FileInfoMapper.fileInfoJoinColumns" />
		FROM ASA_SITE SI
		LEFT OUTER JOIN ASA_FILEINFO FI ON SI.SITE_LOGO = FI.FILE_ID
		<where>
			SITE_ID = #{siteId}
		</where>
	</select>
	
	<select id="selectSiteById" parameterType="String" resultMap="sitePlainResultMap">
		SELECT
			<include refid="siteJoinColumns"/> 
			, <include refid="egovframework.com.asapro.fileinfo.service.FileInfoMapper.fileInfoJoinColumns" />
		FROM ASA_SITE SI
		LEFT OUTER JOIN ASA_FILEINFO FI ON SI.SITE_LOGO = FI.FILE_ID
		<where>
			SITE_ID = #{value}
		</where>
	</select>
	
	<select id="selectMainSite" resultMap="sitePlainResultMap">
		SELECT
			<include refid="siteJoinColumns"/> 
			, <include refid="egovframework.com.asapro.fileinfo.service.FileInfoMapper.fileInfoJoinColumns" />
		FROM ASA_SITE SI
		LEFT OUTER JOIN ASA_FILEINFO FI ON SI.SITE_LOGO = FI.FILE_ID
		<where>
			SITE_MAIN = 1
		</where>
	</select>
	
	<insert id="insertSite" parameterType="Site" >
		INSERT INTO ASA_SITE (
			<include refid="sitePlainColumns"/> 
		) VALUES (
			#{siteId}
			, #{siteName}
			, #{siteDescription}
			, #{siteDomain}
			, #{siteType}
			, #{siteTheme}
			, #{siteMain}
			, #{siteLocale}
			, #{siteLogo.fileId}
			, #{siteRegDate}
		)
	</insert>	
	
	<update id="updateSite" parameterType="Site">
		UPDATE ASA_SITE SET
			SITE_NAME = #{siteName}
			, SITE_DESCRIPTION = #{siteDescription}
			, SITE_DOMAIN = #{siteDomain}
			, SITE_TYPE = #{siteType}
			, SITE_THEME = #{siteTheme}
			, SITE_LOCALE = #{siteLocale}
			, SITE_LOGO = #{siteLogo.fileId}
		<where>
			SITE_ID = #{siteId}
		</where>
	</update>
	
	<delete id="deleteSite" parameterType="String">
		DELETE FROM ASA_SITE
		<where>
			SITE_ID = #{siteId}
			AND SITE_MAIN = 0
		</where>
	</delete>
	
	<!-- =============================================== create site tables =============================================== -->
	
	
	
	<update id="createSiteArchiveCategoryRelTable" parameterType="String">
		CREATE TABLE ${value}_ARCHIVE_CATEGORY_REL (
		  ARC_ID NUMBER NOT NULL,
		  CAT_ID NUMBER NOT NULL,
		  PRIMARY KEY (ARC_ID,CAT_ID),
		  CONSTRAINT ${value}_ARC_CAT_REL_FK1 FOREIGN KEY (ARC_ID) REFERENCES ${value}_ARCHIVE (ARC_ID) ON DELETE CASCADE,
		  CONSTRAINT ${value}_ARC_CAT_REL_FK2 FOREIGN KEY (CAT_ID) REFERENCES ${value}_ARCHIVE_CATEGORY (CAT_ID) ON DELETE CASCADE
		) 
	</update>
	
	<!-- mysql -->
	<update id="createSiteArchiveCategoryRelForeignKey" parameterType="String">
		ALTER TABLE ${value}_ARCHIVE_CATEGORY_REL 
		ADD CONSTRAINT ${value}_ARC_CAT_REL_FK1
		FOREIGN KEY (ARC_ID)
		REFERENCES ${value}_ARCHIVE (ARC_ID)
		ON DELETE CASCADE
		ON UPDATE NO ACTION 
		, ADD CONSTRAINT ${value}_ARC_CAT_REL_FK2
		FOREIGN KEY (CAT_ID)
		REFERENCES ${value}_ARCHIVE_CATEGORY (CAT_ID)
		ON DELETE CASCADE
		ON UPDATE NO ACTION
		, ADD INDEX ${value}_ARC_CAT_REL_IDX1 (ARC_ID ASC) 
		, ADD INDEX ${value}_ARC_CAT_REL_IDX2 (CAT_ID ASC)
	</update>
	
	<!-- oracle -->
	<update id="createSiteArchiveCategoryRelIndex1" parameterType="String">
		CREATE INDEX ${value}_ARC_CAT_REL_IDX1 ON ${value}_ARCHIVE_CATEGORY_REL(ARC_ID)
	</update>
	
	<!-- oracle -->	
	<update id="createSiteArchiveCategoryRelIndex2" parameterType="String">
		CREATE INDEX ${value}_ARC_CAT_REL_IDX2 ON ${value}_ARCHIVE_CATEGORY_REL(CAT_ID)
	</update>
	
	<update id="createSiteArchiveTagTable" parameterType="String">
		CREATE TABLE ${value}_ARCHIVE_TAG (
		  TAG_ID NUMBER NOT NULL,
		  TAG_NAME VARCHAR2(100 CHAR) NOT NULL,
		  TAG_SLUG VARCHAR2(100 CHAR) NOT NULL UNIQUE,
		  PRIMARY KEY (TAG_ID)
		) 
	</update>
	
	<update id="createSiteArchiveTagRelTable" parameterType="String">
		CREATE TABLE ${value}_ARCHIVE_TAG_REL (
		  ARC_ID NUMBER NOT NULL,
		  TAG_ID NUMBER NOT NULL,
		  PRIMARY KEY (ARC_ID,TAG_ID),
		  CONSTRAINT ${value}_ARC_TAG_REL_FK1 FOREIGN KEY (ARC_ID) REFERENCES ${value}_ARCHIVE (ARC_ID) ON DELETE CASCADE ,
		  CONSTRAINT ${value}_ARC_TAG_REL_FK2 FOREIGN KEY (TAG_ID) REFERENCES ${value}_ARCHIVE_TAG (TAG_ID) ON DELETE CASCADE 
		) 
	</update>
	
	<!-- mysql -->
	<update id="createSiteArchiveTagRelForeignKey" parameterType="String">
		ALTER TABLE ${value}_ARCHIVE_TAG_REL 
		ADD CONSTRAINT ${value}_ARC_TAG_REL_FK1
		FOREIGN KEY (ARC_ID)
		REFERENCES ${value}_ARCHIVE (ARC_ID)
		ON DELETE CASCADE
		ON UPDATE NO ACTION 
		, ADD CONSTRAINT ${value}_ARC_TAG_REL_FK2
		FOREIGN KEY (TAG_ID)
		REFERENCES ${value}_ARCHIVE_TAG (TAG_ID)
		ON DELETE CASCADE
		ON UPDATE NO ACTION
		, ADD INDEX ${value}_ARC_TAG_REL_IDX1 (ARC_ID ASC) 
		, ADD INDEX ${value}_ARC_TAG_REL_IDX2 (TAG_ID ASC)
	</update>
	
	<!-- oracle -->
	<update id="createSiteArchiveTagRelIndex1" parameterType="String">
		CREATE INDEX ${value}_ARC_TAG_REL_IDX1 ON ${value}_ARCHIVE_TAG_REL(ARC_ID)
	</update>
	
	<!-- oracle -->
	<update id="createSiteArchiveTagRelIndex2" parameterType="String">
		CREATE INDEX ${value}_ARC_TAG_REL_IDX2 ON ${value}_ARCHIVE_TAG_REL(TAG_ID)
	</update>
	
	<update id="createSiteArchiveMediaRelTable" parameterType="String">
		CREATE TABLE ${value}_ARCHIVE_MEDIA_REL (
		  ARC_ID NUMBER NOT NULL,
		  FILE_ID NUMBER NOT NULL,
		  PRIMARY KEY (ARC_ID,FILE_ID),
		  CONSTRAINT ${value}_ARC_MEDIA_REL_FK1 FOREIGN KEY (ARC_ID) REFERENCES ${value}_ARCHIVE (ARC_ID) ON DELETE CASCADE 
		) 
	</update>
	
	<!-- mysql -->
	<update id="createSiteArchiveMediaRelForeignKey" parameterType="String">
		ALTER TABLE ${value}_ARCHIVE_MEDIA_REL 
		ADD CONSTRAINT ${value}_ARC_MEDIA_REL_FK1
		FOREIGN KEY (ARC_ID)
		REFERENCES ${value}_ARCHIVE (ARC_ID)
		ON DELETE CASCADE
		ON UPDATE NO ACTION 
		, ADD CONSTRAINT ${value}_ARC_MEDIA_REL_FK2
		FOREIGN KEY (FILE_ID)
		REFERENCES ${value}_FILEINFO (FILE_ID)
		ON DELETE CASCADE
		ON UPDATE NO ACTION
		, ADD INDEX ${value}_ARC_MEDIA_REL_IDX1 (ARC_ID ASC) 
		, ADD INDEX ${value}_ARC_MEDIA_REL_IDX2 (FILE_ID ASC)
	</update>
	
	<!-- oracle -->
	<update id="createSiteArchiveMediaRelIndex1" parameterType="String">
		CREATE INDEX ${value}_ARC_MEDIA_REL_IDX1 ON ${value}_ARCHIVE_MEDIA_REL(ARC_ID)
	</update>
	
	<!-- oracle -->
	<update id="createSiteArchiveMediaRelIndex2" parameterType="String">
		CREATE INDEX ${value}_ARC_MEDIA_REL_IDX2 ON ${value}_ARCHIVE_MEDIA_REL(FILE_ID)
	</update>
	
	<update id="createSiteBannerTable" parameterType="String">
		CREATE TABLE ${value}_BANNER (
			BN_ID NUMBER NOT NULL,
			BN_TYPE VARCHAR2(20) DEFAULT NULL,
			BN_ORDER NUMBER DEFAULT NULL,
			BN_NAME VARCHAR2(100 CHAR) DEFAULT NULL,
			BN_DESCRIPTION VARCHAR2(1000 CHAR) DEFAULT NULL,
			BN_LINK VARCHAR2(1000 CHAR) DEFAULT NULL,
			BN_NEW_WIN NUMBER DEFAULT NULL,
			BN_START_DATE VARCHAR2(20) DEFAULT NULL,
			BN_END_DATE VARCHAR2(20) DEFAULT NULL,
			BN_REGDATE DATE DEFAULT NULL,
			BN_USE NUMBER DEFAULT NULL,
			BN_EXT VARCHAR2(10) DEFAULT NULL,
			BN_WIDTH NUMBER DEFAULT NULL,
			BN_HEIGHT NUMBER DEFAULT NULL,
			BN_POSITION VARCHAR2(100) DEFAULT NULL,
			PRIMARY KEY (BN_ID)
		) 
	</update>
	
	<!-- 게시판 설정 테이블 -->
	<update id="createSiteBoardConfigTable" parameterType="String">
		CREATE TABLE ${value}_BOARD_CONFIG (
			BC_ID VARCHAR2(100 BYTE) NOT NULL,
			BC_NAME VARCHAR2(100 BYTE), 
			BC_USE NUMBER DEFAULT 1, 
			BC_TYPE VARCHAR2(50 BYTE), 
			BC_CATEGORY1 VARCHAR2(50 BYTE), 
			BC_CATEGORY1_NAME VARCHAR2(100 BYTE), 
			BC_CATEGORY2 VARCHAR2(50 BYTE),
			BC_CATEGORY2_NAME VARCHAR2(100 BYTE),
			BC_CATEGORY3 VARCHAR2(50 BYTE),
			BC_CATEGORY3_NAME VARCHAR2(100 BYTE),
			BC_STATUS_CODE VARCHAR2(500 BYTE),
			BC_LIST_FILE VARCHAR2(500 BYTE),
			BC_VIEW_FILE VARCHAR2(500 BYTE),
			BC_FORM_FILE VARCHAR2(500 BYTE),
			BC_DEPARTMENT VARCHAR2(50 BYTE),
			BC_GROUP VARCHAR2(50 BYTE),
			BC_ALLOW_MEMBER_LIST NUMBER DEFAULT 1,
			BC_ALLOW_MEMBER_VIEW NUMBER DEFAULT 1,
			BC_ALLOW_MEMBER_FORM NUMBER DEFAULT 1,
			BC_ALLOW_MEMBER_DOWNLOAD NUMBER DEFAULT 1,
			BC_ALLOW_GUEST_LIST NUMBER DEFAULT 1,
			BC_ALLOW_GUEST_VIEW NUMBER DEFAULT 1,
			BC_ALLOW_GUEST_FORM NUMBER DEFAULT 1,
			BC_ALLOW_GUEST_DOWNLOAD NUMBER DEFAULT 1,
			BC_SUPPORT_NOTICE NUMBER DEFAULT 1,
			BC_NOTICE_EVERY_PAGE NUMBER DEFAULT 0,
			BC_SUPPORT_SECRET NUMBER DEFAULT 1,
			BC_SUPPORT_COMMENT NUMBER DEFAULT 1,
			BC_SUPPORT_ANSWER NUMBER DEFAULT 0,
			BC_SUPPORT_RECOMMEND NUMBER DEFAULT 0,
			BC_SUPPORT_THUMBNAIL NUMBER DEFAULT 1,
			BC_THUMBNAIL_CROP NUMBER DEFAULT 0,
			BC_THUMBNAIL_WIDTH NUMBER DEFAULT 200,
			BC_THUMBNAIL_HEIGHT NUMBER DEFAULT 150,
			BC_UPLOAD_FILE_NUM NUMBER DEFAULT 5,
			BC_UPLOAD_SIZE_MAX NUMBER DEFAULT 10,
			BC_PAGE_SIZE NUMBER DEFAULT 10,
			BC_REGDATE DATE,
			BC_ORGANIZATION VARCHAR2(50 BYTE),
			BC_SUPPORT_NURI NUMBER DEFAULT 0,
			BC_SUPPORT_IMAGE NUMBER DEFAULT 1,
			BC_SUPPORT_HIT_DAY NUMBER DEFAULT 1,
			BC_SUPPORT_MAIN_SELEC NUMBER DEFAULT 0, 
			BC_SUPPORT_COMM_SELEC NUMBER DEFAULT 0, 
			BC_SUPPORT_OPEN_DAY NUMBER DEFAULT 0,
			BC_CUSTOM_FIELD_1 VARCHAR2(50 BYTE),
			BC_CUSTOM_FIELD_2 VARCHAR2(50 BYTE),
			BC_CUSTOM_FIELD_3 VARCHAR2(50 BYTE),
			BC_CUSTOM_FIELD_4 VARCHAR2(50 BYTE),
			BC_CUSTOM_FIELD_5 VARCHAR2(50 BYTE),
			BC_CUSTOM_FIELD_6 VARCHAR2(50 BYTE),
			BC_CUSTOM_FIELD_7 VARCHAR2(50 BYTE),
			BC_CUSTOM_FIELD_8 VARCHAR2(50 BYTE),
			BC_CUSTOM_FIELD_9 VARCHAR2(50 BYTE),
			BC_CUSTOM_FIELD_10 VARCHAR2(50 BYTE),
			BC_CUSTOM_FIELD_USE VARCHAR2(100 BYTE),
			PRIMARY KEY (BC_ID)
		) 
	</update>
	
	<!-- 게시판 게시글 -->
	<update id="createSiteBoardArticleTable" parameterType="String">
		CREATE TABLE ${value}_BOARD_ARTICLE (
			BA_ID NUMBER NOT NULL,
			BC_ID VARCHAR2(100 BYTE) NOT NULL,
			BA_TITLE VARCHAR2(1000 BYTE),
			BA_CONTENT_HTML CLOB,
			BA_CONTENT_PLAIN VARCHAR2(4000 BYTE),
			BA_NOTICE NUMBER,
			BA_NOTICE_STARTDATE VARCHAR2(20), 
			BA_NOTICE_ENDDATE VARCHAR2(20), 
			BA_SECRET NUMBER,
			BA_SECRET_PASSWORD VARCHAR2(200 BYTE),
			BA_CATEGORY1 VARCHAR2(50 BYTE),
			BA_CATEGORY2 VARCHAR2(50 BYTE),
			BA_CATEGORY3 VARCHAR2(50 BYTE),
			BA_STATUS VARCHAR2(50 BYTE),
			MEM_ID VARCHAR2(50 BYTE),
			DEP_ID VARCHAR2(50 BYTE),
			BA_GUEST_NAME VARCHAR2(200 BYTE),
			BA_GUEST_PASSWORD VARCHAR2(200 BYTE),
			BA_EMAIL VARCHAR2(200 BYTE),
			BA_IP VARCHAR2(20 BYTE),
			BA_REGDATE DATE,
			BA_LAST_MODIFIED DATE,
			BA_UPDATER_ID VARCHAR2(50 BYTE),
			BA_HIT NUMBER DEFAULT 0,
			BA_RECOMMEND NUMBER DEFAULT 0,
			BA_COMMENT_TOTAL NUMBER DEFAULT 0,
			BA_THUMB NUMBER,
			BA_NURI VARCHAR2(50 BYTE),
			BA_USE NUMBER,
			BA_MAIN_SELEC NUMBER DEFAULT 0, 
			BA_COMM_SELEC NUMBER DEFAULT 0, 
			BA_START_DATE VARCHAR2(20), 
			BA_START_TIME VARCHAR2(20), 
			BA_END_DATE VARCHAR2(20), 
			BA_COM_SEL_CAT VARCHAR2(50),
			BA_THUMB_TEXT VARCHAR2(500 BYTE),
			BA_ANSWER VARCHAR2(4000 BYTE),
			BA_CUSTOM_FIELD_1 VARCHAR2(500 BYTE),
			BA_CUSTOM_FIELD_2 VARCHAR2(500 BYTE),
			BA_CUSTOM_FIELD_3 VARCHAR2(500 BYTE),
			BA_CUSTOM_FIELD_4 VARCHAR2(500 BYTE),
			BA_CUSTOM_FIELD_5 VARCHAR2(500 BYTE),
			BA_CUSTOM_FIELD_6 VARCHAR2(500 BYTE),
			BA_CUSTOM_FIELD_7 VARCHAR2(500 BYTE),
			BA_CUSTOM_FIELD_8 VARCHAR2(500 BYTE),
			BA_CUSTOM_FIELD_9 VARCHAR2(500 BYTE),
			BA_CUSTOM_FIELD_10 VARCHAR2(500 BYTE),
			PRIMARY KEY (BA_ID),
			CONSTRAINT ${value}_BOARD_ARTICLE_FK1 FOREIGN KEY (BC_ID) REFERENCES ${value}_BOARD_CONFIG (BC_ID) ON DELETE CASCADE
		) 
	</update>	
	
	<!-- mysql -->
	<update id="createSiteBoardArticleForeignKey" parameterType="String">
		ALTER TABLE ${value}_BOARD_ARTICLE 
		ADD CONSTRAINT ${value}_BOARD_ARTICLE_FK1
		FOREIGN KEY(BC_ID) 
		REFERENCES ${value}_BOARD_CONFIG(BC_ID)
		ON DELETE CASCADE
		ON UPDATE NO ACTION
		, ADD INDEX ${value}_BOARD_ARTICLE_IDX1 (BC_ID ASC)
	</update>
	
	<!-- oracle -->
	<update id="createSiteBoardArticleIndex1" parameterType="String">
		CREATE INDEX ${value}_BOARD_ARTICLE_IDX1 ON ${value}_BOARD_ARTICLE(BC_ID)
	</update>
	
	<update id="createSiteCommentTable" parameterType="String">
		CREATE TABLE ${value}_COMMENT(	
			CMT_ID NUMBER NOT NULL ENABLE, 
			CMT_PARENT_ID NUMBER, 
			CMT_TITLE VARCHAR2(200 CHAR), 
			CMT_CONTENT VARCHAR2(1000 CHAR), 
			CMT_MODULE VARCHAR2(100 BYTE), 
			CMT_MODULE_SUB VARCHAR2(100 BYTE), 
			CMT_MOD_CATEGORY VARCHAR2(100 BYTE), 
			CMT_MOD_ITEM_ID VARCHAR2(100 BYTE), 
			CMT_PAGE_URL VARCHAR2(2000 BYTE), 
			CMT_LOGIN_TYPE VARCHAR2(50 BYTE), 
			CMT_USER_ID VARCHAR2(100 BYTE), 
			CMT_SNS_USER_ID VARCHAR2(100 BYTE), 
			CMT_SNS_USER_NAME VARCHAR2(100 BYTE), 
			CMT_SNS_USER_HOME VARCHAR2(200 BYTE), 
			CMT_PROFILE_IMAGE VARCHAR2(1000 BYTE), 
			CMT_AGREE NUMBER DEFAULT 0, 
			CMT_DISAGREE NUMBER DEFAULT 0, 
			CMT_RECOMMEND NUMBER DEFAULT 0, 
			CMT_REPORT NUMBER DEFAULT 0, 
			CMT_REG_IP VARCHAR2(20 BYTE), 
			CMT_REGDATE DATE, 
			CMT_STATUS VARCHAR2(50 BYTE), 
			PRIMARY KEY (CMT_ID)
		)
	</update>
	
	<update id="createSiteConfigOptionTable" parameterType="String">
		CREATE TABLE ${value}_CONFIG_OPTION (
		  CONF_ID VARCHAR2(20) NOT NULL,
		  OPT_KEY VARCHAR2(100) NOT NULL,
		  OPT_VALUE VARCHAR2(1000) DEFAULT NULL,
		  OPT_NAME VARCHAR2(100 CHAR) DEFAULT NULL,
		  OPT_TYPE VARCHAR2(20) DEFAULT NULL,
		  OPT_HIDDEN NUMBER DEFAULT '0',
		  OPT_UNIT_TEXT VARCHAR2(20 CHAR) DEFAULT NULL,
		  OPT_HELP VARCHAR2(500 CHAR) DEFAULT NULL,
		  PRIMARY KEY (CONF_ID,OPT_KEY)
		) 
	</update>
	
	<!-- <update id="copySiteConfigOptionData" parameterType="String">
		INSERT INTO ${value}_CONFIG_OPTION 
		SELECT * FROM ECMS_CONFIG_OPTION
		WHERE CONF_ID NOT IN ('mail', 'global', 'sns', 'comment', 'watermark')
	</update> -->
	
	<!-- 설정데이터 사이트 구분자 넣어 복사 -->
	<update id="copySiteConfigOptionData" parameterType="String">
		INSERT INTO ASA_CONFIG_OPTION 
		SELECT 
			CONF_ID
			, OPT_KEY
			, OPT_VALUE
			, OPT_NAME
			, OPT_TYPE
			, OPT_HIDDEN
			, OPT_UNIT_TEXT
			, OPT_HELP
			, #{value}
		FROM ASA_CONFIG_OPTION
		WHERE SITE_PREFIX = 'ASA'
	</update>
	
	<update id="createSiteContentTable" parameterType="String">
		CREATE TABLE ${value}_CONTENT (
		  MENU_ID VARCHAR2(50) DEFAULT NULL,
		  CONTENT CLOB DEFAULT NULL,
		  CONTENT_PLAIN VARCHAR2(1500 CHAR) DEFAULT NULL,
		  CONTENT_STATUS VARCHAR2(20) DEFAULT NULL,
		  CONTENT_VER NUMBER DEFAULT NULL,
		  CONTENT_REGDATE DATE DEFAULT NULL,
		  CONTENT_LAST_MODIFIED DATE DEFAULT NULL,
		  CONTENT_LAST_WORKER VARCHAR2(20) DEFAULT NULL,
		  CONTENT_MEMO VARCHAR2(1000 CHAR) DEFAULT NULL
		) 
	</update>

	<!-- oracle -->
	<!--  -->
	<update id="createSiteContentIndex" parameterType="String">
		CREATE INDEX ${value}_CONTENT_IDX1 ON ${value}_CONTENT(MENU_ID)
	</update>
	
	<!--  -->
	<update id="createSiteFeedConfigTable" parameterType="String">
		CREATE TABLE ${value}_FEED_CONFIG (
		  FEED_CONFIG_ID NUMBER NOT NULL,
		  FEED_URI_NAME VARCHAR2(100 CHAR) NOT NULL UNIQUE,
		  FEED_TYPE VARCHAR2(20) DEFAULT NULL,
		  FEED_VERSION VARCHAR2(20) DEFAULT NULL,
		  FEED_CHANNEL_TITLE VARCHAR2(500 CHAR) NOT NULL,
		  FEED_CHANNEL_LINK VARCHAR2(1000 CHAR) DEFAULT NULL,
		  FEED_CHANNEL_DESCRIPTION VARCHAR2(1000 CHAR) DEFAULT NULL,
		  FEED_CHANNEL_COPYRIGHT VARCHAR2(200 CHAR) DEFAULT NULL,
		  FEED_TABLE VARCHAR2(100) DEFAULT NULL,
		  FEED_PK_COLUMN VARCHAR2(50) DEFAULT NULL,
		  FEED_MODULE_ID_COLUMN VARCHAR2(50) DEFAULT NULL,
		  FEED_MODULE_SUB_ID_COLUMN VARCHAR2(50) DEFAULT NULL,
		  FEED_TITLE_COLUMN VARCHAR2(50) DEFAULT NULL,
		  FEED_LINK_COLUMN VARCHAR2(50) DEFAULT NULL,
		  FEED_DESCRIPTION_COLUMN VARCHAR2(50) DEFAULT NULL,
		  FEED_PUB_DATE_COLUMN VARCHAR2(50) DEFAULT NULL,
		  FEED_AUTHOR_COLUMN VARCHAR2(50) DEFAULT NULL,
		  FEED_GUID_COLUMN VARCHAR2(50) DEFAULT NULL,
		  FEED_PAGE_SIZE NUMBER DEFAULT '20',
		  FEED_DESCRIPTION_LENGTH NUMBER DEFAULT '200',
		  FEED_MODULE VARCHAR2(50) DEFAULT NULL,
		  FEED_MODULE_ID VARCHAR2(50) DEFAULT NULL,
		  FEED_MODULE_SUB VARCHAR2(50) DEFAULT NULL,
		  FEED_MODULE_SUB_ID VARCHAR2(50) DEFAULT NULL,
		  FEED_CONFIG_REGDATE DATE DEFAULT NULL,
		  FEED_EXTRA_CONDITION VARCHAR2(1000 CHAR) DEFAULT NULL,
		  PRIMARY KEY (FEED_CONFIG_ID)
		) 
	</update>
	
	<!-- 파일정보 -->
	<update id="createSiteFileInfoTable" parameterType="String">
		CREATE TABLE ${value}_FILEINFO 
			(FILE_ID NUMBER NOT NULL ENABLE, 
			MEMBER_ID VARCHAR2(50 BYTE), 
			FILE_MODULE VARCHAR2(50 BYTE), 
			FILE_MODULE_ID VARCHAR2(50 BYTE), 
			FILE_MODULE_SUB VARCHAR2(50 BYTE), 
			FILE_MODULE_SUB_ID VARCHAR2(50 BYTE), 
			FILE_ORIGINAL_NAME VARCHAR2(500 BYTE), 
			FILE_PATH VARCHAR2(1000 BYTE), 
			FILE_THUMBNAIL_PATH VARCHAR2(200 BYTE), 
			FILE_EXT VARCHAR2(20 BYTE), 
			FILE_MIME_TYPE VARCHAR2(200 BYTE), 
			FILE_MEDIA_TYPE VARCHAR2(20 BYTE), 
			FILE_SIZE NUMBER, 
			FILE_REGDATE DATE, 
			FILE_ALT_TEXT VARCHAR2(500 BYTE), 
			FILE_DOWNLOAD_COUNT NUMBER DEFAULT 0, 
			FILE_UUID VARCHAR2(100 BYTE), 
			FILE_ORI_IMAGE_WIDTH NUMBER, 
			FILE_ORI_IMAGE_HEIGHT NUMBER, 
			FILE_ATTACHMENT_TYPE VARCHAR2(50 BYTE), 
			FILE_SERVLET_URL VARCHAR2(100 BYTE), 
			FILE_SERVLET_THUMBNAIL_URL VARCHAR2(100 BYTE), 
			PRIMARY KEY (FILE_ID)
		)
	</update>
	
	<!-- 메뉴 -->
	<update id="createSiteMenuTable" parameterType="String">
		CREATE TABLE ${value}_MENU (
		  MENU_ID VARCHAR2(100) NOT NULL,
		  MENU_NAME VARCHAR2(200 CHAR) DEFAULT NULL,
		  MENU_TYPE VARCHAR2(20) DEFAULT NULL,
		  MENU_GNB_TYPE VARCHAR2(20) DEFAULT NULL,
		  MENU_GNB_EXT_ON VARCHAR2(20) DEFAULT NULL,
		  MENU_GNB_EXT_OFF VARCHAR2(20) DEFAULT NULL,
		  MENU_SNB_TYPE VARCHAR2(100) DEFAULT NULL,
		  MENU_SNB_EXT_ON VARCHAR2(20) DEFAULT NULL,
		  MENU_SNB_EXT_OFF VARCHAR2(20) DEFAULT NULL,
		  MENU_TITLE_TYPE VARCHAR2(20) DEFAULT NULL,
		  MENU_TITLE_EXT VARCHAR2(20) DEFAULT NULL,
		  MENU_TITLE_SUB_TEXT VARCHAR2(200 CHAR) DEFAULT NULL,
		  MENU_LINK VARCHAR2(1000 CHAR) DEFAULT NULL,
		  MENU_NEW_WIN NUMBER DEFAULT NULL,
		  MENU_PARENT VARCHAR2(100) DEFAULT NULL,
		  MENU_DEPTH NUMBER DEFAULT NULL,
		  MENU_ORDER NUMBER DEFAULT NULL,
		  MENU_HEADER VARCHAR2(1000) DEFAULT NULL,
		  MENU_TEMPLATE VARCHAR2(1000) DEFAULT NULL,
		  MENU_FOOTER VARCHAR2(1000) DEFAULT NULL,
		  MENU_STATUS VARCHAR2(20) DEFAULT NULL,
		  MENU_MANAGER VARCHAR2(100 CHAR) DEFAULT NULL,
		  MENU_DEPARTMENT VARCHAR2(100 CHAR) DEFAULT NULL,
		  MENU_PHONE VARCHAR2(100 CHAR) DEFAULT NULL,
		  MENU_EMAIL VARCHAR2(200) DEFAULT NULL,
		  MENU_ETC VARCHAR2(1000 CHAR) DEFAULT NULL,
		  MENU_REGDATE DATE DEFAULT NULL,
		  MENU_USE_SATISFACTION NUMBER DEFAULT 1,
		  MENU_LAST_MODIFIED DATE DEFAULT NULL,
		  PRIMARY KEY (MENU_ID)
		) 
	</update>
	
	<!-- oracle -->
	<update id="createSiteMenuIndex" parameterType="String">
		CREATE INDEX ${value}_MENU_IDX1 ON ${value}_MENU(MENU_PARENT)
	</update>
	
	
	
	<update id="createSiteSatisfactionTable" parameterType="String">
		CREATE TABLE ${value}_SATISFACTION (
		  MENU_ID VARCHAR2(100) NOT NULL,
		  SAT_SCORE_50 NUMBER DEFAULT NULL,
		  SAT_SCORE_40 NUMBER DEFAULT NULL,
		  SAT_SCORE_30 NUMBER DEFAULT NULL,
		  SAT_SCORE_20 NUMBER DEFAULT NULL,
		  SAT_SCORE_10 NUMBER DEFAULT NULL,
		  SAT_LAST_RATE_DATE DATE DEFAULT NULL,
		  SAT_RESET_DATE DATE DEFAULT NULL,
		  PRIMARY KEY (MENU_ID),
		  CONSTRAINT ${value}_SATISFACTION_FK1 FOREIGN KEY (MENU_ID) REFERENCES ${value}_MENU (MENU_ID) ON DELETE CASCADE 
		) 
	</update>
	
	<!-- mysql -->
	<update id="createSiteSatisfactionForeignKey" parameterType="String">
		ALTER TABLE ${value}_SATISFACTION 
		ADD CONSTRAINT ${value}_SATISFACTION_FK1
		FOREIGN KEY (MENU_ID)
		REFERENCES ${value}_MENU (MENU_ID)
		ON DELETE CASCADE
		ON UPDATE NO ACTION
		, ADD INDEX ${value}_SATISFACTION_IDX1 (MENU_ID ASC)
	</update>
	
	<update id="createSiteScheduleEventTable" parameterType="String">
		CREATE TABLE ${value}_SCHEDULE_EVENT (
		  SE_ID NUMBER NOT NULL,
		  SE_START_DATE VARCHAR2(20) DEFAULT NULL,
		  SE_START_HOUR NUMBER DEFAULT NULL,
		  SE_START_MIN NUMBER DEFAULT NULL,
		  SE_END_DATE VARCHAR2(20) DEFAULT NULL,
		  SE_END_HOUR NUMBER DEFAULT NULL,
		  SE_END_MIN NUMBER DEFAULT NULL,
		  SE_TITLE_KR VARCHAR2(200 CHAR) DEFAULT NULL,
		  SE_TITLE_EN VARCHAR2(200) DEFAULT NULL,
		  SE_MEMO VARCHAR2(1000 CHAR) DEFAULT NULL,
		  SE_COLOR VARCHAR2(20) DEFAULT NULL,
		  SE_WHOLE_DAY NUMBER DEFAULT NULL,
		  SE_LINK_URL VARCHAR2(500) DEFAULT NULL,
		  SE_LINK_TARGET VARCHAR2(10) DEFAULT NULL,
		  PRIMARY KEY (SE_ID)
		) 
	</update>
	
	<update id="createSiteScheduleHolidayTable" parameterType="String">
		CREATE TABLE ${value}_SCHEDULE_HOLIDAY (
		  SH_ID NUMBER NOT NULL,
		  SH_YEAR NUMBER DEFAULT NULL,
		  SH_MONTH NUMBER DEFAULT NULL,
		  SH_DAY NUMBER DEFAULT NULL,
		  SH_TITLE_KR VARCHAR2(200 CHAR) DEFAULT NULL,
		  SH_TITLE_EN VARCHAR2(200) DEFAULT NULL,
		  SH_RECUR NUMBER DEFAULT NULL,
		  SH_LUNAR NUMBER DEFAULT NULL,
		  SH_MEMO VARCHAR2(1000) DEFAULT NULL,
		  PRIMARY KEY (SH_ID)
		) 
	</update>
	
	<update id="createSiteStatTable" parameterType="String">
		CREATE TABLE ${value}_STAT (
		  STAT_ID NUMBER NOT NULL,
		  STAT_ITEM_TYPE VARCHAR2(100) NOT NULL,
		  STAT_ITEM_ID VARCHAR2(100) NOT NULL,
		  STAT_YEAR NUMBER DEFAULT NULL,
		  STAT_MONTH NUMBER DEFAULT NULL,
		  STAT_DAY_01 NUMBER DEFAULT NULL,
		  STAT_DAY_02 NUMBER DEFAULT NULL,
		  STAT_DAY_03 NUMBER DEFAULT NULL,
		  STAT_DAY_04 NUMBER DEFAULT NULL,
		  STAT_DAY_05 NUMBER DEFAULT NULL,
		  STAT_DAY_06 NUMBER DEFAULT NULL,
		  STAT_DAY_07 NUMBER DEFAULT NULL,
		  STAT_DAY_08 NUMBER DEFAULT NULL,
		  STAT_DAY_09 NUMBER DEFAULT NULL,
		  STAT_DAY_10 NUMBER DEFAULT NULL,
		  STAT_DAY_11 NUMBER DEFAULT NULL,
		  STAT_DAY_12 NUMBER DEFAULT NULL,
		  STAT_DAY_13 NUMBER DEFAULT NULL,
		  STAT_DAY_14 NUMBER DEFAULT NULL,
		  STAT_DAY_15 NUMBER DEFAULT NULL,
		  STAT_DAY_16 NUMBER DEFAULT NULL,
		  STAT_DAY_17 NUMBER DEFAULT NULL,
		  STAT_DAY_18 NUMBER DEFAULT NULL,
		  STAT_DAY_19 NUMBER DEFAULT NULL,
		  STAT_DAY_20 NUMBER DEFAULT NULL,
		  STAT_DAY_21 NUMBER DEFAULT NULL,
		  STAT_DAY_22 NUMBER DEFAULT NULL,
		  STAT_DAY_23 NUMBER DEFAULT NULL,
		  STAT_DAY_24 NUMBER DEFAULT NULL,
		  STAT_DAY_25 NUMBER DEFAULT NULL,
		  STAT_DAY_26 NUMBER DEFAULT NULL,
		  STAT_DAY_27 NUMBER DEFAULT NULL,
		  STAT_DAY_28 NUMBER DEFAULT NULL,
		  STAT_DAY_29 NUMBER DEFAULT NULL,
		  STAT_DAY_30 NUMBER DEFAULT NULL,
		  STAT_DAY_31 NUMBER DEFAULT NULL,
		  PRIMARY KEY (STAT_ID)
		) 
	</update>
	
	<update id="createSiteTextDataTable" parameterType="String">
		CREATE TABLE ${value}_TEXT_DATA (
		  TEXT_GROUP VARCHAR2(20) NOT NULL,
		  TEXT_ID VARCHAR2(20) NOT NULL,
		  TEXT_NAME VARCHAR2(100) DEFAULT NULL,
		  TEXT_CONTENT CLOB,
		  PRIMARY KEY (TEXT_ID,TEXT_GROUP)
		) 
	</update>
	
	<!-- oracle -->
	<update id="copySiteTextData" parameterType="String">
		INSERT INTO ${value}_TEXT_DATA SELECT * FROM ECMS_TEXT_DATA WHERE TEXT_GROUP NOT IN ('seo')
	</update>
	
	<update id="copyTableData" parameterType="MAP">
		INSERT INTO ${copyTable} SELECT * FROM ${originalTable} 
	</update>
	
	<!-- Poll -->
	
	<update id="createSitePollTable" parameterType="String">
		CREATE TABLE ${value}_POLL (
		  PO_ID NUMBER NOT NULL,
		  PO_QUESTION VARCHAR2(500 CHAR) NOT NULL,
		  PO_DESCRIPTION VARCHAR2(1000 CHAR) NOT NULL,
		  PO_TYPE VARCHAR2(10) NOT NULL,
		  PO_USE_ETC NUMBER DEFAULT NULL,
		  PO_MEMBER_ONLY NUMBER DEFAULT NULL,
		  PO_ALLOW_DUPLICATE NUMBER DEFAULT NULL,
		  PO_SHOW_RESULT_AFTER_VOTE NUMBER DEFAULT NULL,
		  PO_SHOW_RESULT_BUTTON NUMBER DEFAULT NULL,
		  PO_SHOW_ANSWER_NUM NUMBER DEFAULT NULL,
		  PO_START_DATE VARCHAR2(10) DEFAULT NULL,
		  PO_END_DATE VARCHAR2(10) DEFAULT NULL,
		  PO_VOTE_LIMIT NUMBER DEFAULT NULL,
		  PO_TEMPLATE VARCHAR2(100) DEFAULT NULL,
		  PO_REG_DATE DATE DEFAULT NULL,
		  PRIMARY KEY (PO_ID)
		) 
	</update>
	
	<update id="createSitePollAnswerTable" parameterType="String">
		CREATE TABLE ${value}_POLL_ANSWER (
		  PA_ID NUMBER NOT NULL,
		  PO_ID NUMBER NOT NULL,
		  PA_TEXT VARCHAR2(500 CHAR) NOT NULL,
		  PA_ORDER NUMBER DEFAULT NULL,
		  PRIMARY KEY (PA_ID),
		  CONSTRAINT ${value}_POLL_ANSWER_FK1 FOREIGN KEY (PO_ID) REFERENCES ${value}_POLL (PO_ID) ON DELETE CASCADE 
		) 
	</update>
	
	<update id="createSitePollVoteTable" parameterType="String">
		CREATE TABLE ${value}_POLL_VOTE (
		  PV_ID NUMBER NOT NULL,
		  PO_ID NUMBER NOT NULL,
		  PA_ID NUMBER NOT NULL,
		  PA_ETC VARCHAR2(500 CHAR) DEFAULT NULL,
		  PV_UNIQUE VARCHAR2(100) NOT NULL,
		  PRIMARY KEY (PV_ID),
		  CONSTRAINT ${value}_POLL_VOTE_FK1 FOREIGN KEY (PO_ID) REFERENCES ${value}_POLL (PO_ID) ON DELETE CASCADE 
		) 
	</update>
	
	<!-- mysql -->
	<update id="createSitePollAnswerForeignKey" parameterType="String">
		ALTER TABLE ${value}_POLL_ANSWER 
		ADD CONSTRAINT ${value}_POLL_ANSWER_FK1
		FOREIGN KEY (PO_ID)
		REFERENCES ${value}_POLL (PO_ID)
		ON DELETE CASCADE
		ON UPDATE NO ACTION
		, ADD INDEX ${value}_POLL_ANSWER_IDX1 (PO_ID ASC)
	</update>
	
	<!-- mysql -->
	<update id="createSitePollVoteForeignKey" parameterType="String">
		ALTER TABLE ${value}_POLL_VOTE
		ADD CONSTRAINT ${value}_POLL_VOTE_FK1
		FOREIGN KEY (PO_ID)
		REFERENCES ${value}_POLL (PO_ID)
		ON DELETE CASCADE
		ON UPDATE NO ACTION
		, ADD INDEX ${value}_POLL_VOTE_IDX1 (PO_ID ASC)
	</update>
	
	<!-- oracle -->
	<update id="createSiteSequence" parameterType="MAP">
		CREATE SEQUENCE ${seqName} INCREMENT BY 1 START WITH ${startSeq} MINVALUE 1 NOCACHE
	</update>
	
	<update id="createSiteQnaTable" parameterType="String">
		CREATE TABLE ${value}_QNA (
			QNA_IDX NUMBER NOT NULL,
			QNA_FAMILY NUMBER NOT NULL,
			QNA_TITLE VARCHAR2(500 CHAR) NOT NULL,
			QNA_CONTENT CLOB,
			QNA_MEMBER VARCHAR2(200 CHAR) NOT NULL,
			QNA_SECRET NUMBER DEFAULT 0,
			QNA_EMAIL VARCHAR2(500 CHAR) NOT NULL,
			QNA_GUEST_NAME VARCHAR2(100 CHAR) DEFAULT NULL,
			QNA_GUEST_PASSWORD VARCHAR2(200 CHAR) DEFAULT NULL,
			QNA_IP VARCHAR2(20) NOT NULL,
			QNA_CREATED DATE DEFAULT NULL,
			QNA_OPEN NUMBER DEFAULT 1,
			QNA_HIT NUMBER DEFAULT 0,
			QNA_DELETED NUMBER DEFAULT 0,
			PRIMARY KEY (QNA_IDX)
		) 
	</update>
	
	<update id="createSiteRentalTable" parameterType="String">
		CREATE TABLE ${value}_RENTAL (
			RENT_ID NUMBER NOT NULL ENABLE, 
			RENT_CATE1 VARCHAR2(50 BYTE), 
			RENT_CATE2 VARCHAR2(200 BYTE), 
			RENT_MANAGER VARCHAR2(50 BYTE), 
			RENT_MANATER_TEL VARCHAR2(20 BYTE), 
			RENT_TITLE VARCHAR2(200 BYTE), 
			RENT_DIV VARCHAR2(20 BYTE), 
			RENT_CHARGE NUMBER, 
			RENT_RESERV_TYPE VARCHAR2(500 BYTE), 
			RENT_PAYMENT_TYPE VARCHAR2(500 BYTE), 
			RENT_DESCRIPTION CLOB, 
			RENT_ETC VARCHAR2(1000 CHAR), 
			RENT_USE NUMBER, 
			RENT_THUMB NUMBER, 
			RENT_POSSIBLE_DAY_TYPE VARCHAR2(50 BYTE), 
			RENT_PERIOD_SDATE VARCHAR2(20 BYTE), 
			RENT_PERIOD_EDATE VARCHAR2(20 BYTE), 
			RENT_RESERV_SDATE_AFTER NUMBER, 
			RENT_RESERV_EDATE_AFTER NUMBER, 
			RENT_POSSIBLE_DAYOFWEEK VARCHAR2(50 BYTE), 
			RENT_RESERV_TIME VARCHAR2(500 BYTE), 
			RENT_IMPOSSIBLE_DATE VARCHAR2(1000 BYTE), 
			RENT_REGDATE DATE, 
			RENT_STEP VARCHAR2(20 BYTE), 
			RENT_PARKING NUMBER DEFAULT 0, 
			RENT_ORDER NUMBER, 
			RENT_VR VARCHAR2(50 BYTE), 
			RENT_APPROVE NUMBER DEFAULT 0, 
			RENT_MEMBERSHIP NUMBER DEFAULT 0, 
			RENT_MEMBER_DISCOUNT NUMBER DEFAULT 0, 
			RENT_RES_MIN_TIME NUMBER DEFAULT 1, 
			RENT_RES_MIN_NUMBER NUMBER DEFAULT 1, 
			RENT_RES_MAX_NUMBER NUMBER DEFAULT 1, 
			RENT_RESERV_TIME_SAT VARCHAR2(500 BYTE), 
			RENT_RESERV_TIME_SUN VARCHAR2(500 BYTE), 
			RENT_REFUND_DATE_BEFORE NUMBER DEFAULT 1, 
			RENT_REFUND_RATE NUMBER DEFAULT 100, 
			RENT_PAYMENT_TIME_LIMIT NUMBER DEFAULT 0, 
			RENT_RENTING_METHOD VARCHAR2(50 BYTE), 
			RENT_SHORT_DESCRIPTION VARCHAR2(4000 CHAR), 
			RENT_FACILITY_INFO VARCHAR2(4000 CHAR), 
			RENT_PRECAUTIONS VARCHAR2(4000 CHAR), 
			RENT_REFUND_POKICY VARCHAR2(400 CHAR), 
			RENT_AVAILABLE_TIME VARCHAR2(300 BYTE),
			PRIMARY KEY (RENT_ID)
	   )
	</update>
	
	<update id="createSiteRentalReservationTable" parameterType="String">
		CREATE TABLE ${value}_RENTAL_RESERVATION (
			  RESERV_RENT_ID NUMBER 
			, RESERV_NAME VARCHAR2(50 BYTE) 
			, RESERV_POSITION VARCHAR2(50 BYTE) 
			, RESERV_TEL VARCHAR2(50 BYTE) 
			, RESERV_HP VARCHAR2(50 BYTE) 
			, RESERV_EMAIL VARCHAR2(200 BYTE) 
			, RESERV_ORGANIZATION VARCHAR2(200 BYTE) 
			, RESERV_ORG_DIV_CODE VARCHAR2(50 BYTE) 
			, RESERV_ZIPCODE VARCHAR2(50 BYTE) 
			, RESERV_ADDRESS VARCHAR2(400 BYTE) 
			, RESERV_ADDRESS_DETAIL VARCHAR2(400 BYTE) 
			, RESERV_TOTAL NUMBER DEFAULT 0 
			, RESERV_DATE VARCHAR2(20 BYTE) 
			, RESERV_TIME VARCHAR2(1000 BYTE) 
			, RESERV_TIME_ADD NUMBER DEFAULT 0 
			, RESERV_PAID_TYPE VARCHAR2(50 BYTE) 
			, RESERV_PRICE NUMBER DEFAULT 0 
			, RESERV_DISCOUNT_RATE NUMBER DEFAULT 0 
			, RESERV_PAYMENT_AMOUNT NUMBER DEFAULT 0 
			, RESERV_TITLE VARCHAR2(500 BYTE) 
			, RESERV_CONTENT VARCHAR2(4000 CHAR) 
			, RESERV_PARKING NUMBER DEFAULT 0 
			, RESERV_FILE NUMBER 
			, RESERV_STATUS VARCHAR2(50 BYTE) 
			, RESERV_MEMO VARCHAR2(4000 CHAR) 
			, RESERV_REGDATE DATE 
			, RESERV_MEMBERSHIP NUMBER DEFAULT 0 
			, RESERV_REQUESTS VARCHAR2(1000 CHAR) 
			, RESERV_USER_ID VARCHAR2(50 BYTE) 
			, RESERV_USAGE_TIME NUMBER 
			, RESERV_CANCEL_DATE VARCHAR2(20 BYTE) 
			, RESERV_APPROV_DATE VARCHAR2(20 BYTE) 
			, RESERV_PAYMENT_DATE VARCHAR2(20 BYTE) 
			, RESERV_PAY_CANCEL_DATE VARCHAR2(20 BYTE) 
			, RESERV_TID VARCHAR2(50 BYTE) 
			, RESERV_ID VARCHAR2(50 BYTE) NOT NULL 
			, PRIMARY KEY (RESERV_ID)
	   )
	</update>
	
	<update id="createSiteRentalCloseTimeTable" parameterType="String">
		CREATE TABLE ${value}_RENTAL_CLOSE_TIME (
			 RESERV_DATE VARCHAR2(20 BYTE) NOT NULL 
			, RESERV_CLOSE_TIME VARCHAR2(50 BYTE) NOT NULL 
			, RENT_ID NUMBER NOT NULL 
			, CONSTRAINT ${value}_RENTAL_CLOSE_TIME_PK PRIMARY KEY 
			  (
			    RESERV_DATE 
			  , RESERV_CLOSE_TIME 
			  , RENT_ID 
			  )
	   )
	</update>
	
	<update id="createSiteViewingReservationTable" parameterType="String">
		CREATE TABLE ${value}_VIEWING_RESERVATION (	
	   		RESERV_ID NUMBER, 
			RESERV_NAME VARCHAR2(50), 
			RESERV_GROUP VARCHAR2(200), 
			RESERV_ADDRESS VARCHAR2(400), 
			RESERV_EMAIL VARCHAR2(200), 
			RESERV_HP VARCHAR2(50), 
			RESERV_PEOPLE NUMBER, 
			RESERV_DATE VARCHAR2(20), 
			RESERV_STIME VARCHAR2(20), 
			RESERV_ETIME VARCHAR2(20), 
			RESERV_REGDATE DATE, 
			RESERV_MEMO VARCHAR2(4000), 
			RESERV_STATUS VARCHAR2(50), 
			RESERV_AGREE NUMBER,
			PRIMARY KEY (RESERV_ID)
	   )
	</update>
	
	<update id="createSiteEducationReservationTable" parameterType="String">
		CREATE TABLE ${value}_EDUCATION_RESERVATION (	
	   		RESERV_ID NUMBER, 
			RESERV_NAME VARCHAR2(50), 
			RESERV_GROUP VARCHAR2(200), 
			RESERV_ADDRESS VARCHAR2(400), 
			RESERV_EMAIL VARCHAR2(200), 
			RESERV_HP VARCHAR2(50), 
			RESERV_PEOPLE NUMBER, 
			RESERV_DATE VARCHAR2(20), 
			RESERV_STIME VARCHAR2(20), 
			RESERV_ETIME VARCHAR2(20), 
			RESERV_REGDATE DATE, 
			RESERV_MEMO VARCHAR2(4000), 
			RESERV_STATUS VARCHAR2(50), 
			RESERV_AGREE NUMBER,
			PRIMARY KEY (RESERV_ID)
	   )
	</update>
	
	<update id="createSiteVolunteerReservationTable" parameterType="String">
		CREATE TABLE ${value}_VOLUNTEER_RESERVATION (	
	   		RESERV_ID NUMBER, 
			RESERV_NAME VARCHAR2(50), 
			RESERV_GROUP VARCHAR2(200), 
			RESERV_ADDRESS VARCHAR2(400), 
			RESERV_EMAIL VARCHAR2(200), 
			RESERV_HP VARCHAR2(50), 
			RESERV_PEOPLE NUMBER, 
			RESERV_PURPOSE VARCHAR2(4000), 
			RESERV_DATE VARCHAR2(20), 
			RESERV_STIME VARCHAR2(20), 
			RESERV_ETIME VARCHAR2(20), 
			RESERV_SUGGEST VARCHAR2(4000), 
			RESERV_REGDATE DATE, 
			RESERV_STATUS VARCHAR2(50), 
			RESERV_AGREE NUMBER,
			PRIMARY KEY (RESERV_ID)
	   )
	</update>
	
	<update id="createSiteArchiveCategoryTable" parameterType="String">
		CREATE TABLE ${value}_ARCHIVE_CATEGORY (
			CAT_ID  VARCHAR2(50) NOT NULL, 
			CAT_NAME VARCHAR2(200), 
			CAT_PAGE_SIZE NUMBER, 
			CAT_USER_LIST_TEMPLATE VARCHAR2(100),
			CAT_USER_VIEW_TEMPLATE VARCHAR2(100),
			CAT_ADMIN_LIST_TEMPLATE VARCHAR2(100),
			CAT_ADMIN_FORM_TEMPLATE VARCHAR2(100),
			CAT_META_CODE1 VARCHAR2(50), 
			CAT_META_CODE2 VARCHAR2(50), 
			CAT_META_CODE3 VARCHAR2(50), 
			CAT_SORT_ORDER VARCHAR2(50), 
			CAT_SORT_DIRECTION VARCHAR2(50), 
			CAT_CUSTOM_TYPE VARCHAR2(50), 
			CAT_REGDATE DATE,
			CAT_SUPPORT_SELECT1 NUMBER, 
			CAT_SUPPORT_NURI NUMBER, 
			CAT_SUPPORT_RECOMMEND NUMBER, 
			CAT_SUPPORT_FIXING NUMBER, 
			CAT_FIXING_NUM NUMBER, 
			CAT_SUPPORT_IMAGE NUMBER, 
			CAT_SUPPORT_THUMBNAIL NUMBER, 
			CAT_THUMBNAIL_CROP NUMBER, 
			CAT_THUMBNAIL_WIDTH NUMBER, 
			CAT_THUMBNAIL_HEIGHT NUMBER, 
			CAT_UPLOAD_FILE_NAME NUMBER, 
			CAT_UPLOAD_SIZE_MAX NUMBER,
			PRIMARY KEY (CAT_ID)
		) 
	</update>
	
	<update id="createSiteArchiveTable" parameterType="String">
		CREATE TABLE ${value}_ARCHIVE (
			ARC_ID NUMBER NOT NULL, 
			ARC_CATEGORY  VARCHAR2(50),
			ARC_TITLE VARCHAR2(500), 
			ARC_CUSTOM_TYPE VARCHAR2(50),
			ARC_CONTENT CLOB, 
			ARC_PLAN_TEXT VARCHAR2(4000), 
			MEM_ID VARCHAR2(50), 
			ARC_REGDATE DATE, 
			ARC_LAST_UPDATE DATE, 
			ARC_HIT NUMBER DEFAULT 0, 
			ARC_RECOMMEND NUMBER DEFAULT 0, 
			ARC_NURI VARCHAR2(50), 
			ARC_USE NUMBER, 
			ARC_THUMB NUMBER, 
			ARC_META_CODE1 VARCHAR2(50), 
			ARC_META_CODE2 VARCHAR2(50), 
			ARC_META_CODE3 VARCHAR2(50), 
			ARC_MEDIA VARCHAR2(200), 
			ARC_YEAR VARCHAR2(50), 
			ARC_ADVERTISER VARCHAR2(100), 
			ARC_PRODUCT VARCHAR2(100), 
			ARC_PRODUCT_DIV VARCHAR2(100), 
			ARC_ACTOR VARCHAR2(50), 
			ARC_PERIOD VARCHAR2(50), 
			ARC_THUMB_TEXT VARCHAR2(200),
			ARC_SELECTED1 NUMBER,
			ARC_TAG VARCHAR2(500),
  			PRIMARY KEY (ARC_ID)	
		) 
	</update>
	
	<update id="createSiteSpaceTable" parameterType="String">
		CREATE TABLE ${value}_SPACE (
			SPA_LOCATION VARCHAR2(500), 
			SPA_TEL VARCHAR2(50), 
			SPA_USE_HOURS VARCHAR2(200), 
			SPA_BUSINESS_HOURS VARCHAR2(200), 
			SPA_AGENCY VARCHAR2(100), 
			SPA_SITE_URL VARCHAR2(300), 
			ARC_ID NUMBER NOT NULL,
			PRIMARY KEY (ARC_ID),
			CONSTRAINT ${value}_SPACE_FK1 FOREIGN KEY (ARC_ID) REFERENCES ${value}_ARCHIVE (ARC_ID) ON DELETE CASCADE 
		) 
	</update>
	
	<!-- mysql -->
	<update id="createSiteSpaceForeignKey" parameterType="String">
		ALTER TABLE ${value}_SPACE 
		ADD CONSTRAINT ${value}_SPACE_FK1
		FOREIGN KEY (ARC_ID)
		REFERENCES ${value}_ARCHIVE (ARC_ID )
		ON DELETE CASCADE
		ON UPDATE NO ACTION
		, ADD INDEX ${value}_SPACE_IDX1 (ARC_ID ASC)
	</update>
	
	<!-- oracle -->
	<update id="createSiteSpaceIndex1" parameterType="String">
		CREATE INDEX ${value}_SPACE_IDX1 ON ${value}_SPACE(ARC_ID)
	</update>
	
	<update id="createSiteResearchTable" parameterType="String">
		CREATE TABLE ${value}_RESEARCH (
			RES_RESEARCHER VARCHAR2(200), 
			RES_YEAR VARCHAR2(50), 
			RES_SUPPORT VARCHAR2(200), 
			RES_SUPP_PROJECT VARCHAR2(200), 
			ARC_ID NUMBER NOT NULL,
			PRIMARY KEY (ARC_ID),
			CONSTRAINT ${value}_RESEARCH_FK1 FOREIGN KEY (ARC_ID) REFERENCES ${value}_ARCHIVE (ARC_ID) ON DELETE CASCADE 
		) 
	</update>
	
	<!-- mysql -->
	<update id="createSiteResearchForeignKey" parameterType="String">
		ALTER TABLE ${value}_RESEARCH 
		ADD CONSTRAINT ${value}_RESEARCH_FK1
		FOREIGN KEY (ARC_ID)
		REFERENCES ${value}_ARCHIVE (ARC_ID )
		ON DELETE CASCADE
		ON UPDATE NO ACTION
		, ADD INDEX ${value}_RESEARCH_IDX1 (ARC_ID ASC)
	</update>
	
	<!-- oracle -->
	<update id="createSiteResearchIndex1" parameterType="String">
		CREATE INDEX ${value}_RESEARCH_IDX1 ON ${value}_RESEARCH(ARC_ID)
	</update>
	
	<update id="createSiteAdvertisingTable" parameterType="String">
		CREATE TABLE ${value}_ADVERTISING (
			ARC_ID NUMBER, 
			ADT_MANUFACTURE_YEAR VARCHAR2(20), 
			ADT_PRODUCER VARCHAR2(50), 
			ADT_DIRECTOR VARCHAR2(50), 
			ADT_BACK_MUSIC VARCHAR2(200), 
			ADT_PLAN_INTENTION VARCHAR2(2000), 
			ADT_COMPOSITION VARCHAR2(2000), 
			ADT_PRODUCTION_REVIEW VARCHAR2(2000), 
			ADT_TV_CF VARCHAR2(4000), 
			ADT_RADIO_CF VARCHAR2(4000), 
			ADT_VIDEO NUMBER, 
			ADT_RADIO NUMBER, 
			ADT_MEDIA VARCHAR2(100),
			ADT_AWARD_TYPE VARCHAR2(50), 
			ADT_WINNER VARCHAR2(200), 
			ADT_UCC_URL VARCHAR2(200),
			PRIMARY KEY (ARC_ID),
			CONSTRAINT ${value}_ADVERTISING_FK1 FOREIGN KEY (ARC_ID) REFERENCES ${value}_ARCHIVE (ARC_ID) ON DELETE CASCADE 
		) 
	</update>
	
	<!-- mysql -->
	<update id="createSiteAdvertisingForeignKey" parameterType="String">
		ALTER TABLE ${value}_ADVERTISING 
		ADD CONSTRAINT ${value}_ADVERTISING_FK1
		FOREIGN KEY (ARC_ID)
		REFERENCES ${value}_ARCHIVE (ARC_ID )
		ON DELETE CASCADE
		ON UPDATE NO ACTION
		, ADD INDEX ${value}_ADVERTISING_IDX1 (ARC_ID ASC)
	</update>
	
	<!-- oracle -->
	<update id="createSiteAdvertisingIndex1" parameterType="String">
		CREATE INDEX ${value}_ADVERTISING_IDX1 ON ${value}_ADVERTISING(ARC_ID)
	</update>
	
		<update id="createSitePolicyTable" parameterType="String">
		CREATE TABLE ${value}_POLICY (
			ARC_ID NUMBER, 
			POLI_SHORT_DESCRIPTION VARCHAR2(1000), 
			PRIMARY KEY (ARC_ID),
			CONSTRAINT ${value}_POLICY_FK1 FOREIGN KEY (ARC_ID) REFERENCES ${value}_ARCHIVE (ARC_ID) ON DELETE CASCADE 
		) 
	</update>
	
	<!-- mysql -->
	<update id="createSitePolicyForeignKey" parameterType="String">
		ALTER TABLE ${value}_POLICY 
		ADD CONSTRAINT ${value}_POLICY_FK1
		FOREIGN KEY (ARC_ID)
		REFERENCES ${value}_ARCHIVE (ARC_ID )
		ON DELETE CASCADE
		ON UPDATE NO ACTION
		, ADD INDEX ${value}_POLICY_IDX1 (ARC_ID ASC)
	</update>
	
	<!-- oracle -->
	<update id="createSitePolicyIndex1" parameterType="String">
		CREATE INDEX ${value}_POLICY_IDX1 ON ${value}_POLICY(ARC_ID)
	</update>
	
	
	<update id="createSitePostTable" parameterType="String">
		CREATE TABLE ${value}_POST (
		  ARC_ID NUMBER NOT NULL,
		  PO_SELECTED1 NUMBER DEFAULT 0,
		  PO_SELECTED2 NUMBER DEFAULT 0,
		  PO_STICKY NUMBER DEFAULT 0,
		  PO_STICKY_SDATE VARCHAR2(20) DEFAULT NULL,
		  PO_STICKY_EDATE VARCHAR2(20) DEFAULT NULL,
		  PO_STICKY_ORDER NUMBER DEFAULT 0,
		  PRIMARY KEY (ARC_ID),
		  CONSTRAINT ${value}_POST_FK1 FOREIGN KEY (ARC_ID) REFERENCES ${value}_ARCHIVE (ARC_ID) ON DELETE CASCADE 
		) 
	</update>
	
	<!-- mysql -->
	<update id="createSitePostForeignKey" parameterType="String">
		ALTER TABLE ${value}_POST 
		ADD CONSTRAINT ${value}_POST_FK1
		FOREIGN KEY (ARC_ID)
		REFERENCES ${value}_ARCHIVE (ARC_ID )
		ON DELETE CASCADE
		ON UPDATE NO ACTION
		, ADD INDEX ${value}_POST_IDX1 (ARC_ID ASC)
	</update>
	
	<!-- oracle -->
	<update id="createSitePostIndex1" parameterType="String">
		CREATE INDEX ${value}_POST_IDX1 ON ${value}_POST(ARC_ID)
	</update>
	
</mapper>